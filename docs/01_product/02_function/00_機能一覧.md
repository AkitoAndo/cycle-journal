# Cycle AIコーチ 機能一覧

## 概要

CycleのAIコーチに必要な機能群を整理する。各機能はCycleモデル（土・水・根・幹・枝・葉・実・空）と連携し、ユーザーの内省と成長を循環的に支援する。

---

## 機能カテゴリ

| カテゴリ | 説明 | 関連ドキュメント |
|---------|------|-----------------|
| **F1. 会話エンジン** | 対話の基盤となるAI応答システム | A-01, A-02, C-01, C-02 |
| **F2. 感情分析** | ユーザーの感情を検出・分類 | B-01 |
| **F3. 価値観分析** | ユーザーの価値観・信念を検出 | B-02 |
| **F4. 質問生成** | 内省を促す質問を動的に生成 | B-03 |
| **F5. 状態判定** | ユーザーの心理状態を判定 | A-03 |
| **F6. 行動提案** | 小さな行動タスクを提案 | A-04, B-04 |
| **F7. ふりかえり支援** | 行動後の内省を支援 | A-05 |
| **F8. 文脈管理** | 会話の文脈を維持・参照 | B-06 |
| **F9. ユーザーデータ管理** | 履歴の保存・活用 | B-05 |
| **F10. 安全フィルター** | 禁止表現・危機対応 | A-06 |
| **F11. エラーハンドリング** | 誤り発生時の対応 | C-04 |

---

## 機能構成図

```
┌─────────────────────────────────────────────────────────────────┐
│                        Cycle AIコーチ                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                  F1. 会話エンジン                         │  │
│  │  ┌────────────┐ ┌────────────┐ ┌────────────┐           │  │
│  │  │ベースプロンプト│ │会話テンプレート│ │トーン制御   │           │  │
│  │  └────────────┘ └────────────┘ └────────────┘           │  │
│  └──────────────────────────────────────────────────────────┘  │
│                              │                                  │
│              ┌───────────────┼───────────────┐                  │
│              ▼               ▼               ▼                  │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐            │
│  │F2.感情分析   │ │F3.価値観分析 │ │F5.状態判定   │            │
│  └──────────────┘ └──────────────┘ └──────────────┘            │
│              │               │               │                  │
│              └───────────────┼───────────────┘                  │
│                              ▼                                  │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                  F4. 質問生成                             │  │
│  └──────────────────────────────────────────────────────────┘  │
│                              │                                  │
│              ┌───────────────┴───────────────┐                  │
│              ▼                               ▼                  │
│  ┌──────────────────────┐       ┌──────────────────────┐       │
│  │   F6. 行動提案       │       │   F7. ふりかえり支援  │       │
│  └──────────────────────┘       └──────────────────────┘       │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  【基盤機能】                                                   │
│  ┌────────────┐ ┌────────────┐ ┌────────────┐ ┌────────────┐  │
│  │F8.文脈管理 │ │F9.データ管理│ │F10.安全ﾌｨﾙﾀ│ │F11.ｴﾗｰ対応 │  │
│  └────────────┘ └────────────┘ └────────────┘ └────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

---

## Cycleモデルと機能の対応

| Cycle要素 | 主に関連する機能 |
|----------|-----------------|
| 土（Soil） | F9. ユーザーデータ管理（記憶・環境の蓄積） |
| 水（Water） | F8. 文脈管理（会話の流れを維持） |
| 根（Root） | F3. 価値観分析（信念・価値観の検出） |
| 幹（Trunk） | F5. 状態判定（意志・姿勢の確認） |
| 枝（Branch） | F4. 質問生成（思考の広がりを促す） |
| 葉（Leaf） | F6. 行動提案（日常の具体的行動） |
| 実（Fruit） | F7. ふりかえり支援（成果・気づきの確認） |
| 空（Sky） | F4. 質問生成（直感・新しい視点の提供） |

---

## 機能優先度

| 優先度 | 機能 | 理由 |
|--------|------|------|
| **P0** | F1. 会話エンジン | コア機能、これがないと始まらない |
| **P0** | F10. 安全フィルター | ユーザー保護は必須 |
| **P1** | F2. 感情分析 | 対話の質を大きく左右 |
| **P1** | F5. 状態判定 | 適切な対応に必須 |
| **P1** | F4. 質問生成 | 内省支援の核心 |
| **P2** | F3. 価値観分析 | 深い対話に必要 |
| **P2** | F8. 文脈管理 | 継続的な対話に必要 |
| **P2** | F6. 行動提案 | 行動変容に必要 |
| **P2** | F7. ふりかえり支援 | 循環を完成させる |
| **P3** | F9. ユーザーデータ管理 | 長期的な成長支援 |
| **P3** | F11. エラーハンドリング | 品質向上 |

---

## ドキュメント構成

```
02_function/
├── 00_機能一覧.md              ← このファイル
├── F1_会話エンジン.md
├── F2_感情分析.md
├── F3_価値観分析.md
├── F4_質問生成.md
├── F5_状態判定.md
├── F6_行動提案.md
├── F7_ふりかえり支援.md
├── F8_文脈管理.md
├── F9_ユーザーデータ管理.md
├── F10_安全フィルター.md
└── F11_エラーハンドリング.md
```
