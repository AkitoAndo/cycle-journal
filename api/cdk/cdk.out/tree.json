{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.232.1"},"children":{"CycleJournal-dev":{"id":"CycleJournal-dev","path":"CycleJournal-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.232.1"},"children":{"JwtLayer":{"id":"JwtLayer","path":"CycleJournal-dev/JwtLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.232.1","metadata":[]},"children":{"Code":{"id":"Code","path":"CycleJournal-dev/JwtLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"CycleJournal-dev/JwtLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"CycleJournal-dev/JwtLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"CycleJournal-dev/JwtLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.12"],"content":{"s3Bucket":"cdk-hnb659fds-assets-812942648455-us-east-1","s3Key":"a0f727b729c4f5016206f078905e94a07f2eec6765e9d974f9dcd807b9d39d0a.zip"},"description":"PyJWT and cryptography for Apple Sign In","layerName":"cyclejournal-dev-jwt-layer"}}}}},"HealthFunction":{"id":"HealthFunction","path":"CycleJournal-dev/HealthFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.232.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CycleJournal-dev/HealthFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CycleJournal-dev/HealthFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"CycleJournal-dev/HealthFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"CycleJournal-dev/HealthFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"CycleJournal-dev/HealthFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"CycleJournal-dev/HealthFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"CycleJournal-dev/HealthFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-812942648455-us-east-1","s3Key":"12c488d83ccfc7a4151c6d4e40d9003c0d0ccfd877206bceb206875c97a7319d.zip"},"environment":{"variables":{"STAGE":"dev"}},"functionName":"cyclejournal-dev-health","handler":"health.handler","memorySize":128,"role":{"Fn::GetAtt":["HealthFunctionServiceRole04552894","Arn"]},"runtime":"python3.12","timeout":10}}}}},"CoachFunction":{"id":"CoachFunction","path":"CycleJournal-dev/CoachFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.232.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CycleJournal-dev/CoachFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CycleJournal-dev/CoachFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"CycleJournal-dev/CoachFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CycleJournal-dev/CoachFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CoachFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":"arn:aws:bedrock:ap-northeast-1::foundation-model/anthropic.claude-3-haiku-20240307-v1:0"}],"Version":"2012-10-17"},"policyName":"CoachFunctionServiceRoleDefaultPolicyDDC8BDD3","roles":[{"Ref":"CoachFunctionServiceRoleE60DE755"}]}}}}}}},"Code":{"id":"Code","path":"CycleJournal-dev/CoachFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"CycleJournal-dev/CoachFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"CycleJournal-dev/CoachFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"CycleJournal-dev/CoachFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-812942648455-us-east-1","s3Key":"12c488d83ccfc7a4151c6d4e40d9003c0d0ccfd877206bceb206875c97a7319d.zip"},"environment":{"variables":{"STAGE":"dev","BEDROCK_MODEL_ID":"anthropic.claude-3-haiku-20240307-v1:0"}},"functionName":"cyclejournal-dev-coach","handler":"coach.handler","memorySize":512,"role":{"Fn::GetAtt":["CoachFunctionServiceRoleE60DE755","Arn"]},"runtime":"python3.12","timeout":60}}}}},"AuthFunction":{"id":"AuthFunction","path":"CycleJournal-dev/AuthFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.232.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CycleJournal-dev/AuthFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CycleJournal-dev/AuthFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"CycleJournal-dev/AuthFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"CycleJournal-dev/AuthFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"CycleJournal-dev/AuthFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"CycleJournal-dev/AuthFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"CycleJournal-dev/AuthFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-812942648455-us-east-1","s3Key":"12c488d83ccfc7a4151c6d4e40d9003c0d0ccfd877206bceb206875c97a7319d.zip"},"environment":{"variables":{"STAGE":"dev","APPLE_BUNDLE_ID":"akito-ando.CycleJournal"}},"functionName":"cyclejournal-dev-auth","handler":"auth.handler","layers":[{"Ref":"JwtLayerDD28C2C5"}],"memorySize":256,"role":{"Fn::GetAtt":["AuthFunctionServiceRole87A7A68C","Arn"]},"runtime":"python3.12","timeout":30}}}}},"AuthorizerFunction":{"id":"AuthorizerFunction","path":"CycleJournal-dev/AuthorizerFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.232.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CycleJournal-dev/AuthorizerFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CycleJournal-dev/AuthorizerFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.1","metadata":[]}},"Resource":{"id":"Resource","path":"CycleJournal-dev/AuthorizerFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"CycleJournal-dev/AuthorizerFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.232.1"},"children":{"Stage":{"id":"Stage","path":"CycleJournal-dev/AuthorizerFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.232.1"}},"AssetBucket":{"id":"AssetBucket","path":"CycleJournal-dev/AuthorizerFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.232.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"CycleJournal-dev/AuthorizerFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-812942648455-us-east-1","s3Key":"12c488d83ccfc7a4151c6d4e40d9003c0d0ccfd877206bceb206875c97a7319d.zip"},"environment":{"variables":{"STAGE":"dev","APPLE_BUNDLE_ID":"akito-ando.CycleJournal"}},"functionName":"cyclejournal-dev-authorizer","handler":"authorizer.handler","layers":[{"Ref":"JwtLayerDD28C2C5"}],"memorySize":256,"role":{"Fn::GetAtt":["AuthorizerFunctionServiceRole5B2A061B","Arn"]},"runtime":"python3.12","timeout":10}}}}},"CycleJournalApi":{"id":"CycleJournalApi","path":"CycleJournal-dev/CycleJournalApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"CycleJournal API","name":"cyclejournal-dev-api"}}},"Deployment":{"id":"Deployment","path":"CycleJournal-dev/CycleJournalApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"CycleJournal API","restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}}}},"DeploymentStage.dev":{"id":"DeploymentStage.dev","path":"CycleJournal-dev/CycleJournalApi/DeploymentStage.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/DeploymentStage.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"CycleJournalApiDeploymentBCB02FAE8f219c15107dba46ac8e0df07bbbf96c"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":false,"throttlingBurstLimit":200,"throttlingRateLimit":100}],"restApiId":{"Ref":"CycleJournalApi9EDF84E3"},"stageName":"dev"}}}}},"Endpoint":{"id":"Endpoint","path":"CycleJournal-dev/CycleJournalApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"Default":{"id":"Default","path":"CycleJournal-dev/CycleJournalApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.232.1","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"CycleJournal-dev/CycleJournalApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["CycleJournalApi9EDF84E3","RootResourceId"]},"restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}}}},"health":{"id":"health","path":"CycleJournal-dev/CycleJournalApi/Default/health","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/health/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CycleJournalApi9EDF84E3","RootResourceId"]},"pathPart":"health","restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}},"OPTIONS":{"id":"OPTIONS","path":"CycleJournal-dev/CycleJournalApi/Default/health/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/health/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CycleJournalApihealth2F3700BB"},"restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}}}},"GET":{"id":"GET","path":"CycleJournal-dev/CycleJournalApi/Default/health/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.232.1","metadata":[]},"children":{"ApiPermission.CycleJournaldevCycleJournalApiC7833FEF.GET..health":{"id":"ApiPermission.CycleJournaldevCycleJournalApiC7833FEF.GET..health","path":"CycleJournal-dev/CycleJournalApi/Default/health/GET/ApiPermission.CycleJournaldevCycleJournalApiC7833FEF.GET..health","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HealthFunction19D7724A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:812942648455:",{"Ref":"CycleJournalApi9EDF84E3"},"/",{"Ref":"CycleJournalApiDeploymentStagedev442ACC7D"},"/GET/health"]]}}}},"ApiPermission.Test.CycleJournaldevCycleJournalApiC7833FEF.GET..health":{"id":"ApiPermission.Test.CycleJournaldevCycleJournalApiC7833FEF.GET..health","path":"CycleJournal-dev/CycleJournalApi/Default/health/GET/ApiPermission.Test.CycleJournaldevCycleJournalApiC7833FEF.GET..health","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HealthFunction19D7724A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:812942648455:",{"Ref":"CycleJournalApi9EDF84E3"},"/test-invoke-stage/GET/health"]]}}}},"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/health/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HealthFunction19D7724A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CycleJournalApihealth2F3700BB"},"restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}}}}}},"auth":{"id":"auth","path":"CycleJournal-dev/CycleJournalApi/Default/auth","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/auth/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CycleJournalApi9EDF84E3","RootResourceId"]},"pathPart":"auth","restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}},"OPTIONS":{"id":"OPTIONS","path":"CycleJournal-dev/CycleJournalApi/Default/auth/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/auth/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CycleJournalApiauth9CD20DAD"},"restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}}}},"verify":{"id":"verify","path":"CycleJournal-dev/CycleJournalApi/Default/auth/verify","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/auth/verify/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"CycleJournalApiauth9CD20DAD"},"pathPart":"verify","restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}},"OPTIONS":{"id":"OPTIONS","path":"CycleJournal-dev/CycleJournalApi/Default/auth/verify/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/auth/verify/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CycleJournalApiauthverify6F643A71"},"restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}}}},"POST":{"id":"POST","path":"CycleJournal-dev/CycleJournalApi/Default/auth/verify/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.232.1","metadata":[]},"children":{"ApiPermission.CycleJournaldevCycleJournalApiC7833FEF.POST..auth.verify":{"id":"ApiPermission.CycleJournaldevCycleJournalApiC7833FEF.POST..auth.verify","path":"CycleJournal-dev/CycleJournalApi/Default/auth/verify/POST/ApiPermission.CycleJournaldevCycleJournalApiC7833FEF.POST..auth.verify","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:812942648455:",{"Ref":"CycleJournalApi9EDF84E3"},"/",{"Ref":"CycleJournalApiDeploymentStagedev442ACC7D"},"/POST/auth/verify"]]}}}},"ApiPermission.Test.CycleJournaldevCycleJournalApiC7833FEF.POST..auth.verify":{"id":"ApiPermission.Test.CycleJournaldevCycleJournalApiC7833FEF.POST..auth.verify","path":"CycleJournal-dev/CycleJournalApi/Default/auth/verify/POST/ApiPermission.Test.CycleJournaldevCycleJournalApiC7833FEF.POST..auth.verify","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:812942648455:",{"Ref":"CycleJournalApi9EDF84E3"},"/test-invoke-stage/POST/auth/verify"]]}}}},"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/auth/verify/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CycleJournalApiauthverify6F643A71"},"restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}}}}}}}},"coach":{"id":"coach","path":"CycleJournal-dev/CycleJournalApi/Default/coach","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/coach/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CycleJournalApi9EDF84E3","RootResourceId"]},"pathPart":"coach","restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}},"OPTIONS":{"id":"OPTIONS","path":"CycleJournal-dev/CycleJournalApi/Default/coach/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.232.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/coach/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CycleJournalApicoach0D7540B6"},"restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}}}},"POST":{"id":"POST","path":"CycleJournal-dev/CycleJournalApi/Default/coach/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.232.1","metadata":[]},"children":{"ApiPermission.CycleJournaldevCycleJournalApiC7833FEF.POST..coach":{"id":"ApiPermission.CycleJournaldevCycleJournalApiC7833FEF.POST..coach","path":"CycleJournal-dev/CycleJournalApi/Default/coach/POST/ApiPermission.CycleJournaldevCycleJournalApiC7833FEF.POST..coach","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CoachFunction788DA660","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:812942648455:",{"Ref":"CycleJournalApi9EDF84E3"},"/",{"Ref":"CycleJournalApiDeploymentStagedev442ACC7D"},"/POST/coach"]]}}}},"ApiPermission.Test.CycleJournaldevCycleJournalApiC7833FEF.POST..coach":{"id":"ApiPermission.Test.CycleJournaldevCycleJournalApiC7833FEF.POST..coach","path":"CycleJournal-dev/CycleJournalApi/Default/coach/POST/ApiPermission.Test.CycleJournaldevCycleJournalApiC7833FEF.POST..coach","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CoachFunction788DA660","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:812942648455:",{"Ref":"CycleJournalApi9EDF84E3"},"/test-invoke-stage/POST/coach"]]}}}},"Resource":{"id":"Resource","path":"CycleJournal-dev/CycleJournalApi/Default/coach/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.232.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CoachFunction788DA660","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CycleJournalApicoach0D7540B6"},"restApiId":{"Ref":"CycleJournalApi9EDF84E3"}}}}}}}}}}}},"ApiUrl":{"id":"ApiUrl","path":"CycleJournal-dev/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"CycleJournal-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"CycleJournal-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CycleJournal-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.232.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CycleJournal-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.232.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}